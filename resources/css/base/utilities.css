/* ================== Animation Keyframes ================== */
@keyframes fade-in { from{opacity:0} to{opacity:1} }
@keyframes slide-up { from{transform:translateY(8px); opacity:0} to{transform:none; opacity:1} }
@keyframes shimmer {
  0% { background-position:-600px 0; }
  100% { background-position:600px 0; }
}

/* Helpers */
.anim-fade-in{ animation: fade-in var(--dur) var(--easing) both; }
.anim-slide-up{ animation: slide-up var(--dur) var(--easing) both; }
.anim-slow{ animation-duration: var(--dur-slow); }
.shadow    { box-shadow: var(--shadow); }
.shadow-lg { box-shadow: var(--shadow-lg); }
.rounded   { border-radius: var(--radius); }

/* ================== Skeleton / Loading ================== */
.skeleton{
  position:relative;
  overflow:hidden;
  border-radius:12px;
  background: color-mix(in srgb, var(--ring) 35%, transparent);
  min-height: 1em;
}
.skeleton.shimmer::after{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(90deg,
    transparent,
    color-mix(in srgb, var(--soft) 60%, transparent),
    transparent);
  background-size: 600px 100%;
  animation: shimmer 1.2s var(--easing) infinite;
}

/* ================== Image Fallbacks ================== */
.img-box{
  position:relative; overflow:hidden; border-radius:12px;
  background:var(--soft);
  border:1px solid var(--ring);
}
.img-box > img{
  width:100%; height:100%;
  object-fit:cover; display:block;
  transition: opacity var(--dur) var(--easing);
}
.img-box.no-img::before{
  content:"ğŸ–¼";
  position:absolute; inset:0;
  display:grid; place-items:center;
  color:var(--muted);
  font-size:clamp(22px, 5vw, 40px);
}
.img-box.loading > img{ opacity:.35; }
.img-box.loading::after{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.12), transparent);
  animation: shimmer 1.1s var(--easing) infinite;
}

/* ================== Empty states ================== */
.empty{
  padding:2rem; text-align:center;
  color:var(--muted);
  background:var(--soft);
  border:1px dashed var(--ring);
  border-radius:16px;
}

/* ================== Offline banner ================== */
.offline-banner{
  position:fixed; inset-inline:0; top:0; z-index:9999;
  padding:.6rem 1rem; text-align:center; font-weight:900;
  color:#0b1220; background: var(--grad-warn);
  box-shadow: var(--shadow-lg);
  display:none;
}
.offline-banner.show{ display:block; }
body.has-offline{ padding-top:44px; }

/* ================== Toasts / Alerts (Ø±Ø³Ø§Ø¦Ù„ Ø¹Ù…Ù„ÙŠØ§Øª) ================== */
.toasts{
  position: fixed; z-index: 9998;
  inset-inline-end: 16px; bottom: 16px;
  display:flex; flex-direction:column; gap:10px;
}
.toast{
  display:flex; align-items:center; gap:10px;
  padding:12px 14px; border-radius:14px;
  box-shadow: var(--shadow);
  background: var(--card);
  border:1px solid var(--ring);
  color: var(--fg);
  animation: slide-up var(--dur) var(--easing) both, fade-in var(--dur) var(--easing) both;
  max-width:min(92vw, 420px);
}
.toast .title{ font-weight:900; margin-inline-end:.25rem; }
.toast .msg{ color:var(--muted); font-weight:700; }

/* ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø«Ø§Ø¨ØªØ© Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø© */
.alert{
  display:flex; align-items:center; gap:.6rem;
  padding:12px 14px; border-radius:14px;
  border:1px solid var(--ring);
  background: var(--card);
  color: var(--fg);
}

/* ================== Ad Banner / Ticker ================== */
.ad-rail{
  position:relative;
  border:1px solid var(--ring);
  background: var(--card);
  border-radius: var(--radius);
  overflow:hidden;
  box-shadow: var(--shadow);
}
.ad-rail .slide{
  padding:12px 14px;
  display:flex; align-items:center; gap:.6rem;
  min-height:54px;
  animation: fade-in var(--dur) var(--easing) both;
}
.ad-rail .slide .badge{
  font-weight:900; font-size:.8rem;
  padding:.25rem .5rem;
  border-radius: 999px;
  background: var(--grad-brand);
  color:#0b1220;
}

/* Ø´Ø±ÙŠØ· Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø£ÙÙ‚ÙŠ Ø¨Ø³ÙŠØ· */
.ad-ticker{
  --speed: 18s;
  overflow:hidden;
  border:1px solid var(--ring);
  border-radius: var(--radius);
  background: var(--card);
}
.ad-ticker .track{
  display:flex; gap:24px; align-items:center;
  padding:10px 12px;
  animation: ticker var(--speed) linear infinite;
  will-change: transform;
  white-space: nowrap;
}
@keyframes ticker{
  0%{ transform: translateX(0); }
  100%{ transform: translateX(-50%); }
}

/* ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ© Ù„Ø°ÙˆÙŠ Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ© */
@media (prefers-reduced-motion: reduce){
  .ad-ticker .track{ animation: none; }
}

/* Ù…Ù‚Ø§Ø³Ø§Øª Ø³Ø±ÙŠØ¹Ø© Ù„Ù„Ù‡ÙˆØ§ØªÙ */
@media (max-width: 640px){
  .toasts{ inset-inline-end:10px; bottom:10px; }
  .toast{ padding:10px 12px; border-radius:12px; }
}
/* Ø²Ø± Ø§Ù„Ø«ÙŠÙ… (Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙÙˆØªØ±) */
#themeToggle.toggle.icon{
  display:inline-flex; align-items:center; gap:.35rem;
  border:1px solid var(--ring);
  background:var(--card);
  color:var(--fg);
  padding:.5rem .7rem; border-radius:12px; cursor:pointer;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
#themeToggle.toggle.icon:hover{
  transform: translateY(-1px);
  border-color: var(--brand);
}

/* Ø¸Ù„ Ù„Ù„Ù‡ÙŠØ¯Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø³Ø­Ø¨ */
.topbar.scrolled .shell{ box-shadow: var(--shadow); }