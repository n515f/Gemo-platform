/* ====== شريط الروابط (ديسكتوب) ====== */
.mainnav{
  display:flex; align-items:center; gap:8px; padding:4px; border-radius:16px;
  background:color-mix(in srgb, var(--fg) 6%, transparent); border:1px solid var(--border);
}
.mainnav .pill{
  text-decoration:none; font-weight:900; white-space:nowrap; color:var(--muted);
  padding:10px 16px; border-radius:14px; display:inline-flex; align-items:center;
  transition: color var(--dur-fast) var(--easing), background var(--dur-fast) var(--easing), transform var(--dur-fast) var(--easing);
}
.mainnav .pill:hover{ color:var(--primary); transform:translateY(-1px); }
.mainnav .pill.active{
  background:color-mix(in srgb, var(--fg) 6%, transparent); color:var(--text);
  box-shadow:inset 0 0 0 1px var(--border);
}
.dark .mainnav{ background:rgba(255,255,255,.04); }
.dark .mainnav .pill.active{ background:rgba(255,255,255,.06); }

/* ====== الترويسة العامة ====== */
.topbar{ position:sticky; top:0; z-index:50;
  background:linear-gradient(180deg, color-mix(in srgb, var(--bg) 96%, transparent), color-mix(in srgb, var(--brand) 8%, transparent));
  border-bottom:1px solid var(--border); backdrop-filter:saturate(160%) blur(6px);
}
.topbar .shell{
  display:flex; align-items:center; gap:18px; justify-content:space-between;
  width:min(1200px,96%); margin-inline:auto; padding:14px;
  border:1px solid var(--border); border-radius:22px;
  background:color-mix(in srgb, var(--bg) 92%, transparent); box-shadow:var(--shadow);
}
.dark .topbar{ background:linear-gradient(180deg, rgba(2,6,23,.86), rgba(2,6,23,.92)); }
.dark .topbar .shell{ background:color-mix(in srgb, var(--bg) 4%, transparent); }
.right-logo .logo-big{ width:56px; height:56px; object-fit:contain; background:transparent; border:none; box-shadow:none; }

/* ====== أزرار المستخدم ====== */
.logout-icon{
  width:38px; height:38px; display:inline-grid; place-items:center;
  border:1px solid color-mix(in srgb, #ef4444 46%, var(--ring));
  border-radius:10px; background:#fef2f2; cursor:pointer;
  transition:transform .12s ease, filter .12s ease, box-shadow .12s ease;
}
.logout-icon img{ width:18px; height:18px; display:block; }
.logout-icon:hover{ transform:translateY(-1px); box-shadow:0 8px 18px rgba(239,68,68,.18); }

.btn-start{
  background:var(--grad-brand); color:#0b1220; font-weight:900; border:1px solid transparent;
  padding:10px 16px; border-radius:14px;
}
.btn-start:hover{ filter:brightness(1.05); transform:translateY(-1px); }

/* ====== الحاوية العامة داخل nav ====== */
.topnav{ position:relative; min-height:56px; display:flex; align-items:center; justify-content:space-between; gap:10px; }

/* ====== زر الهمبرغر (موبايل فقط) ====== */
.hamburger{
  display:none; flex-direction:column; justify-content:center; gap:4px;
  width:36px; height:36px; padding:6px; border:1px solid var(--ring); border-radius:10px;
  background:var(--card); cursor:pointer;
}
.hamburger > span{
  height:2px; border-radius:2px; background:var(--fg); display:block;
  transition:transform .18s var(--easing), opacity .18s var(--easing);
}

/* ====== Helpers للظهور/الإخفاء ====== */
.only-desktop{ display:inline-flex; }
.desktop-nav{ display:flex; }
.md-hide[x-cloak]{ display:none !important; }

/* شاشات كبيرة: إخفاء الهمبرغر */
@media (min-width: 992px){
  .md-hide{ display:none !important; }
}

/* شاشات أصغر: إخفاء روابط الديسكتوب وإظهار الهمبرغر */
@media (max-width: 991.98px){
  .desktop-nav{ display:none !important; }
  .hamburger{ display:inline-flex !important; }
}

/* ====== قائمة الموبايل (تحت الشريط مباشرة) ====== */
.mobile-menu{
  position:absolute; inset-inline:10px; top:calc(100% + 8px);
  background:var(--card); border:1px solid var(--ring); border-radius:14px;
  box-shadow:var(--shadow-lg); padding:10px;
  display:flex; flex-direction:column; gap:6px; z-index:60;
}
[x-cloak]{ display:none !important; }

.mobile-menu .item{
  display:block; padding:.75rem .95rem; border-radius:10px; font-weight:800;
  color:var(--fg); text-decoration:none; border:1px solid transparent;
}
.mobile-menu .item:hover{ background:color-mix(in srgb, var(--fg) 5%, transparent); }
.mobile-menu .item.active{ background:color-mix(in srgb, var(--brand) 10%, transparent); border-color:color-mix(in srgb, var(--brand) 25%, transparent); }
.mobile-menu .item.start{ background:var(--grad-brand); color:#0b1220; text-align:center; }
.mobile-menu .item.danger{ background:#fee2e2; color:#991b1b; font-weight:900; text-align:center; }

/* بطاقة المستخدم أعلى قائمة الموبايل */
.mobile-user{
  display:flex; align-items:center; gap:10px; padding:.6rem .8rem;
  border-radius:12px; background:var(--soft); border:1px solid var(--ring); margin-bottom:6px;
}
.mobile-user img{ width:40px; height:40px; border-radius:10px; object-fit:cover; }
.mobile-user .name{ font-weight:900; line-height:1.1; }
.mobile-user .email{ color:var(--muted); font-weight:700; max-width:58vw; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.mobile-user .email.ltr{ direction:ltr; unicode-bidi:embed; }

/* صف مقسوم (ثيم + لغة) */
.row-split{ display:flex; align-items:center; justify-content:space-between; }

/* ====== بطائق صفحة شاشات العميل ====== */
.client-portal{ padding:24px 0; }
.cp-title{ font-weight:900; font-size:clamp(22px, 2.6vw, 32px); margin-bottom:6px; }
.cp-sub{ color:var(--muted); margin-bottom:16px; }
.cp-grid{
  display:grid; gap:14px;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
}
.cp-card{
  display:flex; flex-direction:column; gap:8px;
  padding:16px; border-radius:16px; border:1px solid var(--ring); background:var(--card);
  text-decoration:none; color:var(--fg);
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.cp-card:hover{ transform:translateY(-2px); box-shadow:var(--shadow); border-color:color-mix(in srgb, var(--brand) 36%, var(--ring)); }
.cp-icon{ font-size:26px; }
.cp-head{ font-weight:900; margin:0; }
.cp-desc{ color:var(--muted); margin:0 0 8px; }
.cp-cta{
  align-self:flex-start; padding:.35rem .6rem; border-radius:999px; font-weight:900;
  background:var(--grad-brand); color:#0b1220;
}