/* ===== لوحة التحكم (بطائق عصرية) ===== */
.dash{ width:min(1200px,96%); margin-inline:auto; padding:18px 0 28px; }
.dash-title{ margin:0; font-weight:900; font-size:clamp(22px,2.6vw,28px); }
.dash-sub{ color:var(--muted); margin-top:6px; }

.dash-head{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:14px; }
.dash-actions{ display:flex; gap:8px; flex-wrap:wrap; }
.btn{ display:inline-flex; align-items:center; justify-content:center; gap:.45rem;
  padding:.65rem 1rem; border-radius:14px; font-weight:900; border:1px solid transparent; cursor:pointer;
}
.btn.small{ padding:.45rem .7rem; border-radius:10px; }
.btn-primary{ background:linear-gradient(135deg,#a5b4fc,#c7d2fe); color:#0b1220; }
.btn-light{ background:var(--soft); color:var(--fg); border-color:var(--ring); }
.btn-soft{ background:color-mix(in srgb, var(--brand) 12%, transparent); }

/* KPI cards */
.kpi-grid{ display:grid; grid-template-columns:repeat(4, minmax(0,1fr)); gap:12px; margin:10px 0 16px; }
.kpi-card{ position:relative; border:1px solid var(--ring); background:var(--card);
  border-radius:20px; padding:14px; overflow:hidden; isolation:isolate;
  box-shadow:var(--shadow); transform:translateY(0); transition:transform .18s ease, box-shadow .18s ease;
}
.kpi-card:hover{ transform:translateY(-3px); box-shadow:0 18px 30px -12px rgba(0,0,0,.15); }
.kpi-top{ display:flex; align-items:center; justify-content:space-between; }
.kpi-label{ font-weight:800; color:var(--muted); }
.kpi-icon{ font-size:22px; }
.kpi-value{ font-weight:900; font-size:clamp(28px,4vw,36px); margin:8px 0 6px; }
.kpi-footer{ font-weight:700; color:var(--muted); }
.kpi-card .mini-pill{ position:absolute; bottom:12px; inset-inline-end:12px;
  border:1px solid var(--ring); font-weight:800;
}

/* ألوان متدرجة */
.k1{ background:linear-gradient(135deg,#e0f2fe,#e9d5ff); }
.k2{ background:linear-gradient(135deg,#fff7ed,#d1fae5); }
.k3{ background:linear-gradient(135deg,#fee2e2,#fef9c3); }
.k4{ background:linear-gradient(135deg,#ede9fe,#cffafe); }

/* بطاقات ثانوية */
.card{ border:1px solid var(--ring); background:var(--card); border-radius:18px; padding:12px; margin-top:12px; box-shadow:var(--shadow); }
.card-title{ margin:0 0 8px; font-weight:900; display:flex; align-items:center; justify-content:space-between; }
.flex-between{ display:flex; align-items:center; justify-content:space-between; gap:8px; }

.table-wrap{ overflow:auto; }
.table{ width:100%; border-collapse:separate; border-spacing:0; }
.table th, .table td{ padding:.6rem .7rem; border-bottom:1px solid var(--ring); vertical-align:middle; }
.table .strong{ font-weight:900; }
.table .num{ text-align:end; }
.ltr{ direction:ltr; }

/* شبكة وسط الصفحة */
.dash-grid{ display:grid; grid-template-columns: 2fr 1.2fr; gap:12px; }

/* تايملاين */
.timeline{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:10px; }
.timeline-item{ display:flex; gap:10px; align-items:flex-start; }
.timeline-item .dot{ width:10px; height:10px; border-radius:999px; background:linear-gradient(135deg,#a78bfa,#60a5fa); margin-top:7px; box-shadow:0 0 0 4px color-mix(in srgb, #a78bfa 15%, transparent); }
.timeline-item .content .line-1 .strong{ font-weight:900; text-decoration:none; color:var(--fg); }
.muted{ color:var(--muted); }
.empty{ text-align:center; padding:12px; color:var(--muted); font-weight:700; }

/* عدّاد (Gauge) بسيط بدون مكتبات) */
.gauge-wrap{ position:relative; display:grid; place-items:center; padding:10px 0 6px; }
.gauge-arc{ width:220px; height:110px; border-bottom-left-radius:220px; border-bottom-right-radius:220px;
  background:conic-gradient(from 180deg at 50% 100%, #34d399, #60a5fa, #a78bfa);
  -webkit-mask: radial-gradient(110px at 50% 100%, transparent 60px, #000 61px);
          mask: radial-gradient(110px at 50% 100%, transparent 60px, #000 61px);
  position:relative;
  animation: glow 3s ease-in-out infinite alternate;
}
@keyframes glow{
  to{ filter:drop-shadow(0 0 12px rgba(99,102,241,.45)); }
}
.needle{ position:absolute; bottom:-2px; left:50%; width:2px; height:96px; background:#0b1220;
  transform-origin: bottom center; transform: translateX(-50%) rotate(18deg); border-radius:2px; }
.gauge-value{ position:absolute; bottom:-2px; display:grid; place-items:center; }
.gauge-value .big{ font-size:28px; font-weight:900; }

@media (max-width: 980px){
  .kpi-grid{ grid-template-columns:repeat(2, minmax(0,1fr)); }
  .dash-grid{ grid-template-columns: 1fr; }
}
@media (max-width: 640px){
  .kpi-grid{ grid-template-columns: 1fr; }
}