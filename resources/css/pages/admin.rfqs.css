/* غلاف عام ومشتركات مأخوذة من ستايل الأدمن لديك */
.admin-page{ width:min(1100px,96%); margin-inline:auto; padding:16px 0 28px; }
.page-head{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px; }
.page-head .title{ margin:0; font-weight:900; font-size:clamp(22px,2.4vw,28px); }
.page-head .muted{ color:var(--muted); font-weight:700; }
.toolbar{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; }

.input,.select,.textarea{
  border:1px solid var(--ring); background:var(--card); color:var(--fg);
  border-radius:12px; padding:.65rem .8rem; min-width:220px;
}
.textarea{ width:100%; }
.lbl{ display:block; font-weight:800; margin-top:8px; margin-bottom:6px; }

/* أزرار موحّدة */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:.45rem;
  padding:.65rem 1rem; border-radius:12px; font-weight:900; border:1px solid transparent; cursor:pointer;
}
.btn.small{ padding:.45rem .7rem; border-radius:10px; }
/* Map to unified tokens */
.btn-primary{ background: var(--btn-add-bg); color: var(--btn-add-fg); border-color: transparent; }
.btn-success{ background: var(--btn-edit-bg); color: var(--btn-edit-fg); border-color: transparent; }
.btn-light{ background: var(--btn-search-bg); color: var(--btn-search-fg); border-color: var(--ring); }
.btn-danger{ background: var(--btn-delete-bg); color: var(--btn-delete-fg); border-color: transparent; }
/* أزرار خاصة (واتساب) تبقى كما هي */
.btn-wa{ background:#fef08a; color:#1f2937; border:1px solid #facc15; }
.btn-primary{ background:var(--grad-brand); color:#0b1220; }
.btn-success{ background:#dcfce7; color:#14532d; border:1px solid #16a34a; }
.btn-light{ background:var(--soft); color:var(--fg); border:1px solid var(--ring); }
.btn-soft{ background:color-mix(in srgb, var(--brand) 10%, transparent); }
.btn-danger{ background:#fee2e2; color:#991b1b; }
.btn-wa{ background:#fef08a; color:#1f2937; border:1px solid #facc15; }
.btn.small{ padding:.45rem .7rem; border-radius:10px; }

.card{ border:1px solid var(--ring); background:var(--card); border-radius:16px; padding:12px; margin-top:12px; box-shadow:var(--shadow); }
.card-title{ margin:0 0 8px; font-weight:900; }
.stack > * + *{ margin-top:6px; }
.grid.two{ display:grid; gap:12px; grid-template-columns: repeat(2, 1fr); }
@media (max-width: 780px){ .grid.two{ grid-template-columns:1fr; } }

/* شبكة البطاقات */
.rfq-grid{
  display:grid; gap:12px;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

/* بطاقة RFQ – أصفر متدرج بشكل افتراضي */
.rfq-card{
  display:flex; flex-direction:column; border-radius:16px; padding:12px;
  border:1px solid var(--ring); background:linear-gradient(135deg, #fff9c2, #fde68a);
  box-shadow:0 14px 28px rgba(250,204,21,.20);
  transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease, background .2s ease;
}
.rfq-card:hover{ transform:translateY(-2px); box-shadow:0 18px 32px rgba(250,204,21,.28); }

/* عند إنجازها تتحول للأخضر */
.rfq-card.done{
  background:linear-gradient(135deg, #dcfce7, #86efac);
  box-shadow:0 14px 28px rgba(34,197,94,.22);
}

/* Theme-aware RFQ card backgrounds */
:root{
  --rfq-pending-bg: color-mix(in srgb, var(--brand) 10%, var(--card));
  --rfq-pending-shadow: 0 14px 28px color-mix(in srgb, var(--brand) 16%, transparent);
  --rfq-done-bg: color-mix(in srgb, var(--success) 18%, var(--card));
  --rfq-done-shadow: 0 14px 28px color-mix(in srgb, var(--success) 22%, transparent);
}
@media (prefers-color-scheme: dark){
  :root{
    --rfq-pending-bg: color-mix(in srgb, var(--brand) 8%, var(--card));
    --rfq-done-bg: color-mix(in srgb, var(--success) 14%, var(--card));
  }
}

/* بطاقة RFQ – تعتمد على المتغيرات */
.rfq-card{
  display:flex; flex-direction:column; border-radius:16px; padding:12px;
  border:1px solid var(--ring); background:var(--rfq-pending-bg);
  box-shadow:var(--rfq-pending-shadow);
  transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease, background .2s ease;
  cursor:pointer;
}
.rfq-card:hover{ transform:translateY(-2px); }
.rfq-card.done{
  background:var(--rfq-done-bg);
  box-shadow:var(--rfq-done-shadow);
}

/* رأس البطاقة */
.rfq-head{ display:flex; align-items:center; justify-content:space-between; gap:8px; }
.rfq-id{ background:var(--bg); color:var(--fg); border:1px solid var(--ring); padding:.2rem .5rem; border-radius:999px; font-weight:900; }

/* جسم البطاقة */
.rfq-body{ padding:.4rem 0; display:flex; flex-direction:column; gap:.45rem; }
.rfq-body .row{ display:flex; justify-content:space-between; gap:8px; flex-wrap:wrap; }
.brief{ background:color-mix(in srgb, var(--bg) 65%, transparent); border:1px solid var(--ring);
  padding:.65rem .75rem; border-radius:12px; font-weight:700; }
.rfq-media{ display:flex; align-items:center; justify-content:center; padding:.35rem; }
.rfq-thumb{ width:100%; max-width:320px; border-radius:12px; border:1px solid var(--ring); }

/* الأزرار أسفل دائماً */
.rfq-actions{ display:flex; align-items:center; gap:8px; margin-top:.65rem; flex-wrap:wrap; }

/* أيقونة واتساب فقط */
.wa-icon{
  display:inline-grid; place-items:center;
  width:38px; height:38px; border-radius:12px;
  border:1px solid var(--ring);
  background:color-mix(in srgb, #22c55e 15%, var(--card));
  color:#16a34a;
  transition:transform .12s ease, filter .12s ease, border-color .12s ease;
}
.wa-icon:hover{ transform:translateY(-1px); filter:brightness(1.05); border-color:#22c55e; }
.wa-icon .ico{ width:20px; height:20px; }

/* شارات الحالات */
.st-pending{ color:#854d0e; border-color:#f59e0b; }
.st-quoted, .st-won{ color:#14532d; border-color:#16a34a; }

/* مودال RFQ */
.rfq-modal[hidden]{ display:none; }
.rfq-modal{
  position:fixed; inset:0; z-index:1200;
  display:grid; place-items:center;
  background:rgba(0,0,0,.32);
  -webkit-backdrop-filter: blur(2px);
  backdrop-filter: blur(2px);
}
.rfq-modal__dialog{
  width:min(980px, 96vw);
  background:var(--card); border:1px solid var(--ring); border-radius:16px; box-shadow:var(--shadow);
  position:relative; padding:16px;
}
.rfq-modal__close{
  position:absolute; inset-inline-end:10px; inset-block-start:10px;
  width:38px; height:38px; border-radius:10px; display:grid; place-items:center;
  background:var(--glass); border:1px solid var(--glass-border); cursor:pointer;
}
.rfq-modal__close .ico{ width:18px; height:18px; }
.rfq-modal__content{ min-height:220px; }
.rfq-modal__loading{ color:var(--muted); font-weight:800; padding:12px; }
.rfq-actions{ display:flex; align-items:center; gap:8px; margin-top:.5rem; flex-wrap:wrap; }

/* فلاشات */
.flash{ border-radius:12px; padding:.7rem .9rem; margin:.4rem 0; font-weight:800; }
.flash.success{ background:#ecfdf5; border:1px solid #10b981; color:#065f46; }
.flash.info{ background:#eff6ff; border:1px solid #3b82f6; color:#1e40af; }
.flash.error{ background:#fef2f2; border:1px solid #ef4444; color:#7f1d1d; }

.empty{ text-align:center; padding:14px; color:var(--muted); font-weight:700; }